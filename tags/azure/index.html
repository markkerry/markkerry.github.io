<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Azure | markkerry.github.io</title><meta name=keywords content><meta name=description content="My personal site - https://github.com/markkerry/markkerry-hugo"><meta name=author content="Mark kerry"><link rel=canonical href=https://markkerry.github.io/tags/azure/><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><link rel=icon href=https://markkerry.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://markkerry.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://markkerry.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://markkerry.github.io/apple-touch-icon.png><link rel=mask-icon href=https://markkerry.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://markkerry.github.io/tags/azure/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZDLE8M8RG"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XZDLE8M8RG",{anonymize_ip:!1})}</script><meta property="og:title" content="Azure"><meta property="og:description" content="My personal site - https://github.com/markkerry/markkerry-hugo"><meta property="og:type" content="website"><meta property="og:url" content="https://markkerry.github.io/tags/azure/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Azure"><meta name=twitter:description content="My personal site - https://github.com/markkerry/markkerry-hugo"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://markkerry.github.io/ accesskey=h title="markkerry.github.io (Alt + H)">markkerry.github.io</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://markkerry.github.io/about/ title=About><span>About</span></a></li><li><a href=https://markkerry.github.io/archive title=Archive><span>Archive</span></a></li><li><a href=https://markkerry.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://markkerry.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://markkerry.github.io/tags/>Tags</a></div><h1>Azure</h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://markkerry.github.io/posts/2023/04/deploy-automation-runbook-with-powershell/media/cover_hu44ce211cad9d7a165a3dc0c5f1660e04_24208_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/2023/04/deploy-automation-runbook-with-powershell/media/cover_hu44ce211cad9d7a165a3dc0c5f1660e04_24208_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/2023/04/deploy-automation-runbook-with-powershell/media/cover.png 663w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/2023/04/deploy-automation-runbook-with-powershell/media/cover.png alt width=663 height=332></figure><header class=entry-header><h2>Deploy an Azure Automation Runbook With PowerShell</h2></header><div class=entry-content><p>The following will walk through the steps to deploy a PowerShell 5.1 and 7.1 runtime, Azure Automation Runbook, using PowerShell. This may be necessary if you are using a deployment script in a pipeline. There are two different methods to this depending on if you are deploying a runtime type of PowerShell 5.1 or PowerShell 7.1. If you want to use the ForEach-Object -Parrallel feature for example, then you will have to use PowerShell 7....</p></div><footer class=entry-footer><span title='2023-04-02 12:39:38 +0000 UTC'>April 2, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Mark kerry</footer><a class=entry-link aria-label="post link to Deploy an Azure Automation Runbook With PowerShell" href=https://markkerry.github.io/posts/2023/04/deploy-automation-runbook-with-powershell/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://markkerry.github.io/posts/2022/11/deploy-aspcore-app-to-aks/media/cover_hu7b0f540beb8b54e1360c9f72410248e3_52841_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/2022/11/deploy-aspcore-app-to-aks/media/cover_hu7b0f540beb8b54e1360c9f72410248e3_52841_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/2022/11/deploy-aspcore-app-to-aks/media/cover.png 677w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/2022/11/deploy-aspcore-app-to-aks/media/cover.png alt width=677 height=258></figure><header class=entry-header><h2>Deploy an ASP.NET Core Web App to an AKS Cluster</h2></header><div class=entry-content><p>In this post I will demonstrate containerising a simple ASP.NET Core web app, pushing it to an Azure Container Registry (ACR), and then running it in a two-node Azure Kubernetes Service (AKS) cluster. It’s not too CLI heavy, and has a lot of manual steps. But it’s a good insight into the end-to-end process of how you can develop and test an app in AKS.
The prerequisites you will need installed on your machine:...</p></div><footer class=entry-footer><span title='2022-11-20 12:09:21 +0000 UTC'>November 20, 2022</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Mark kerry</footer><a class=entry-link aria-label="post link to Deploy an ASP.NET Core Web App to an AKS Cluster" href=https://markkerry.github.io/posts/2022/11/deploy-aspcore-app-to-aks/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://markkerry.github.io/posts/2022/08/ado-terraform-build/media/cover_hufed55eaa0f9a501928ea93339bf65825_35013_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/2022/08/ado-terraform-build/media/cover_hufed55eaa0f9a501928ea93339bf65825_35013_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/2022/08/ado-terraform-build/media/cover.png 667w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/2022/08/ado-terraform-build/media/cover.png alt width=667 height=389></figure><header class=entry-header><h2>Terraform in Azure DevOps Pipelines</h2></header><div class=entry-content><p>The following will walkthrough deploying Azure resources using Terraform in Azure DevOps Pipelines. Although its a detailed guide, there is an expectation that the person following already has a good understanding of Git, Azure and Terraform.
It’s setup with the master or main branch created in DevOps and then cloned locally. A new branch is created and then committed to DevOps (Branch policies will restrict committing directly into master/main). A Pull Request is then created and the first pipeline is run which initialites a terraform plan and terraform validate....</p></div><footer class=entry-footer><span title='2022-08-14 09:53:20 +0100 +0100'>August 14, 2022</span>&nbsp;·&nbsp;11 min&nbsp;·&nbsp;Mark kerry</footer><a class=entry-link aria-label="post link to Terraform in Azure DevOps Pipelines" href=https://markkerry.github.io/posts/2022/08/ado-terraform-build/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://markkerry.github.io/posts/2022/07/azure-func-university-python-lesson/media/cover_hud442bd66a3bc56f2bab31300848de36d_51144_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/2022/07/azure-func-university-python-lesson/media/cover_hud442bd66a3bc56f2bab31300848de36d_51144_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/2022/07/azure-func-university-python-lesson/media/cover_hud442bd66a3bc56f2bab31300848de36d_51144_720x0_resize_box_3.png 720w ,https://markkerry.github.io/posts/2022/07/azure-func-university-python-lesson/media/cover.png 720w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/2022/07/azure-func-university-python-lesson/media/cover.png alt width=720 height=282></figure><header class=entry-header><h2>Azure Functions University Python Lesson</h2></header><div class=entry-content><p>The following will run through the Python exercise from the Azure Functions University repo and YouTube channel. Azure Functions University is a great resource for learning all about Azure Functions, including all the various triggers, languages, deployment, and Durable Functions.
Also it’s worth reviewing the Azure Functions Python developer guide on Microsoft Docs.
Create the Azure Function The following applications are a prerequisite to get started:
Azure Functions Core Tools - To build, test and deploy the Azure Function Azure CLI - To create the Azure resources Python 3....</p></div><footer class=entry-footer><span title='2022-07-17 14:51:31 +0100 +0100'>July 17, 2022</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Mark kerry</footer><a class=entry-link aria-label="post link to Azure Functions University Python Lesson" href=https://markkerry.github.io/posts/2022/07/azure-func-university-python-lesson/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://markkerry.github.io/posts/2022/06/terraform-azure-provider/images/cover_hu6691cddeb8b41e38e64eb6367fd0f5e8_62479_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/2022/06/terraform-azure-provider/images/cover_hu6691cddeb8b41e38e64eb6367fd0f5e8_62479_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/2022/06/terraform-azure-provider/images/cover_hu6691cddeb8b41e38e64eb6367fd0f5e8_62479_720x0_resize_box_3.png 720w ,https://markkerry.github.io/posts/2022/06/terraform-azure-provider/images/cover_hu6691cddeb8b41e38e64eb6367fd0f5e8_62479_1080x0_resize_box_3.png 1080w ,https://markkerry.github.io/posts/2022/06/terraform-azure-provider/images/cover.png 1200w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/2022/06/terraform-azure-provider/images/cover.png alt width=1200 height=487></figure><header class=entry-header><h2>Terraform Azure Provider</h2></header><div class=entry-content><p>In the following post I will demonstrate getting started with the Terraform Azure Provider. I’ll build the configuration for:
Resource Group Virtual Network Subnet Network Security Group (Allow SSH) NSG Association 2 x Linux Virtual Machines 2 x Network Interface Cards 2 x Public IPs These will all be deployed them from Azure Cloud Shell.
Remote vs Local State A quick note on the Terraform state file… I have decided to create a remote state file, stored in an Azure Storage Account in order to demonstrate the “backend” configuration....</p></div><footer class=entry-footer><span title='2022-06-05 10:01:49 +0000 UTC'>June 5, 2022</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Mark kerry</footer><a class=entry-link aria-label="post link to Terraform Azure Provider" href=https://markkerry.github.io/posts/2022/06/terraform-azure-provider/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://markkerry.github.io/posts/2022/02/acr-push-pull/images/cover.svg alt></figure><header class=entry-header><h2>Quick How-to: Push/Pull to Azure Container Registry</h2></header><div class=entry-content><p>In this post I will detail the quick steps to push and pull a Docker container image from an Azure Container Registry.
Using my Go app, I stopped at building the container and continued from here:
Create the Azure Container Registry In the Azure portal, browse to the resource group of your choice or create a new one.
Select Create > Containers > Container Registry
I specified the following:
Subscription Resource group Registry Name: acrmkmdsn Location: UK South Availability zones: Disabled SKU: Standard Leave the rest as default and continue on to Create....</p></div><footer class=entry-footer><span title='2022-02-20 11:27:17 +0000 UTC'>February 20, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Mark kerry</footer><a class=entry-link aria-label="post link to Quick How-to: Push/Pull to Azure Container Registry" href=https://markkerry.github.io/posts/2022/02/acr-push-pull/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://markkerry.github.io/posts/2021/09/automated-autopilot-tenant-move-part1/images/cover_hu8b85997703f7fd1e8bd9dab3c1ae2e27_25957_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/2021/09/automated-autopilot-tenant-move-part1/images/cover_hu8b85997703f7fd1e8bd9dab3c1ae2e27_25957_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/2021/09/automated-autopilot-tenant-move-part1/images/cover.png 712w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/2021/09/automated-autopilot-tenant-move-part1/images/cover.png alt width=712 height=146></figure><header class=entry-header><h2>Automated Autopilot Tenant Move Part 1: Using Graph, Azure Functions and Azure Storage</h2></header><div class=entry-content><p>Thanks to Powers-Hell (Ben) for the handy Get-AuthHeader and Invoke-GraphCall PowerShell functions.
Introduction There may be a scenario where you need all of your Intune managed, Autopilot registered devices setup on a new tenant. But there are a few challenges you will face:
An OEM may have uploaded every device’s hardware hash to Autopilot, so you do not have them to upload to the new tenant. An Autopilot device cannot be deleted from the registration service while it’s a “managed device” (enrolled in Intune)....</p></div><footer class=entry-footer><span title='2021-09-26 10:31:24 +0100 +0100'>September 26, 2021</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Mark kerry</footer><a class=entry-link aria-label="post link to Automated Autopilot Tenant Move Part 1: Using Graph, Azure Functions and Azure Storage" href=https://markkerry.github.io/posts/2021/09/automated-autopilot-tenant-move-part1/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://markkerry.github.io/posts/2021/08/azure-functions-console-sandbox/images/cover_hu32819371875b56f538570485f758c995_17874_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/2021/08/azure-functions-console-sandbox/images/cover_hu32819371875b56f538570485f758c995_17874_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/2021/08/azure-functions-console-sandbox/images/cover_hu32819371875b56f538570485f758c995_17874_720x0_resize_box_3.png 720w ,https://markkerry.github.io/posts/2021/08/azure-functions-console-sandbox/images/cover.png 974w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/2021/08/azure-functions-console-sandbox/images/cover.png alt width=974 height=349></figure><header class=entry-header><h2>Quick How-to: Using the Azure Functions Console Sandbox</h2></header><div class=entry-content><p>Introduction In this short post I will walk through the process to create new files for your Azure Function project, using the Console tool. This may come in handy for people who develop their Azure functions from the Azure portal.
As stated when opening the Console development tool:
“Manage your web app environment by running common commands (‘mkdir’, ‘cd’ to change directories, etc.) This is a sandbox environment, so any commands that require elevated privileges will not work....</p></div><footer class=entry-footer><span title='2021-08-29 13:31:00 +0100 +0100'>August 29, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Mark kerry</footer><a class=entry-link aria-label="post link to Quick How-to: Using the Azure Functions Console Sandbox" href=https://markkerry.github.io/posts/2021/08/azure-functions-console-sandbox/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://markkerry.github.io/posts/2021/08/create-an-azure-container-image/images/cover_huc501710d864ebc8da00905331115064d_46486_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/2021/08/create-an-azure-container-image/images/cover_huc501710d864ebc8da00905331115064d_46486_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/2021/08/create-an-azure-container-image/images/cover.png 632w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/2021/08/create-an-azure-container-image/images/cover.png alt width=632 height=439></figure><header class=entry-header><h2>Create and Deploy an Azure Container Instance with Azure Bicep</h2></header><div class=entry-content><p>Using the Go container created in a previous post, in the post I will detail the steps to author and deploy an Azure Container Instance using Azure Bicep. Hosted in a Linux container, the image will be pulled from Docker Hub.
What are Azure Container Instances Azure Container Instances provides basic container functionality for simple solutions with no orchestration. They can be deployed with public accessibility (public IP and FQDN), or deployed to a VNet for private network access....</p></div><footer class=entry-footer><span title='2021-08-22 11:23:45 +0100 +0100'>August 22, 2021</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Mark kerry</footer><a class=entry-link aria-label="post link to Create and Deploy an Azure Container Instance with Azure Bicep" href=https://markkerry.github.io/posts/2021/08/create-an-azure-container-image/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://markkerry.github.io/posts/2021/08/azure-arm-templates-part-4-custom-deployment/images/cover_hu9f49b236db2d55029736233e7207b244_39367_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/2021/08/azure-arm-templates-part-4-custom-deployment/images/cover_hu9f49b236db2d55029736233e7207b244_39367_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/2021/08/azure-arm-templates-part-4-custom-deployment/images/cover_hu9f49b236db2d55029736233e7207b244_39367_720x0_resize_box_3.png 720w ,https://markkerry.github.io/posts/2021/08/azure-arm-templates-part-4-custom-deployment/images/cover.png 742w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/2021/08/azure-arm-templates-part-4-custom-deployment/images/cover.png alt width=742 height=297></figure><header class=entry-header><h2>Azure ARM Templates - Part 4: Azure Portal Custom Deployment</h2></header><div class=entry-content><p>In my previous posts I walked through the process to author ARM templates using VS Code and the Azure Resource Manager (ARM) Tools extension. In this post I will walk through the process to author ARM templates from scratch using the Azure portal’s Custom Deployment feature. It’s handy for getting started with ARM template authoring, but as you will see below, creates resources with old API versions, bloats the variables element, and creates the variables element at the bottom of the template....</p></div><footer class=entry-footer><span title='2021-08-01 12:03:23 +0100 +0100'>August 1, 2021</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Mark kerry</footer><a class=entry-link aria-label="post link to Azure ARM Templates - Part 4: Azure Portal Custom Deployment" href=https://markkerry.github.io/posts/2021/08/azure-arm-templates-part-4-custom-deployment/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://markkerry.github.io/tags/azure/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://markkerry.github.io/>markkerry.github.io</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>