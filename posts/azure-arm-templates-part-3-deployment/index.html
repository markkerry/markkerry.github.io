<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Azure ARM Templates - Part 3: Deployment | markkerry.github.io</title>
<meta name=keywords content="Azure,ARM Templates,IaC,PowerShell">
<meta name=description content="In the third and final post of this series I&rsquo;ll quickly cover the process to deploy the ARM template with PowerShell
Deploy Open PowerShell and change directory to the location of your ARM template and parameter files. Then complete the following commands to connect to Azure and create a Resource Group to deploy the resources to:
# Import the Azure Az PowerShell Module Import-Module -Name Az # Connect to Azure and authenticate Connect-AzAccount # Create the Resource Group New-AzResourceGroup -Name &#34;rg-eu-vm&#34; -Location &#34;westeurope&#34; Once the Resource Group has been created it&rsquo;s time to deploy the resources using the New-AzResourceGroupDeployment cmdlet.">
<meta name=author content="Mark kerry">
<link rel=canonical href=https://markkerry.github.io/posts/azure-arm-templates-part-3-deployment/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.b9ff4cc257e914dab489bd18086151800e18f91456a5174bf28489210227a659.css integrity="sha256-uf9MwlfpFNq0ib0YCGFRgA4Y+RRWpRdL8oSJIQInplk=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://markkerry.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://markkerry.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://markkerry.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://markkerry.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://markkerry.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.87.0">
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','')</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XZDLE8M8RG"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-XZDLE8M8RG',{anonymize_ip:!1})}</script>
<meta property="og:title" content="Azure ARM Templates - Part 3: Deployment">
<meta property="og:description" content="In the third and final post of this series I&rsquo;ll quickly cover the process to deploy the ARM template with PowerShell
Deploy Open PowerShell and change directory to the location of your ARM template and parameter files. Then complete the following commands to connect to Azure and create a Resource Group to deploy the resources to:
# Import the Azure Az PowerShell Module Import-Module -Name Az # Connect to Azure and authenticate Connect-AzAccount # Create the Resource Group New-AzResourceGroup -Name &#34;rg-eu-vm&#34; -Location &#34;westeurope&#34; Once the Resource Group has been created it&rsquo;s time to deploy the resources using the New-AzResourceGroupDeployment cmdlet.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://markkerry.github.io/posts/azure-arm-templates-part-3-deployment/">
<meta property="og:image" content="https://markkerry.github.io/images/cover.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-07-04T12:55:22+01:00">
<meta property="article:modified_time" content="2021-07-04T12:55:22+01:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://markkerry.github.io/images/cover.png">
<meta name=twitter:title content="Azure ARM Templates - Part 3: Deployment">
<meta name=twitter:description content="In the third and final post of this series I&rsquo;ll quickly cover the process to deploy the ARM template with PowerShell
Deploy Open PowerShell and change directory to the location of your ARM template and parameter files. Then complete the following commands to connect to Azure and create a Resource Group to deploy the resources to:
# Import the Azure Az PowerShell Module Import-Module -Name Az # Connect to Azure and authenticate Connect-AzAccount # Create the Resource Group New-AzResourceGroup -Name &#34;rg-eu-vm&#34; -Location &#34;westeurope&#34; Once the Resource Group has been created it&rsquo;s time to deploy the resources using the New-AzResourceGroupDeployment cmdlet.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://markkerry.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Azure ARM Templates - Part 3: Deployment","item":"https://markkerry.github.io/posts/azure-arm-templates-part-3-deployment/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Azure ARM Templates - Part 3: Deployment","name":"Azure ARM Templates - Part 3: Deployment","description":"In the third and final post of this series I\u0026rsquo;ll quickly cover the process to deploy the ARM template with PowerShell\nDeploy Open PowerShell and change directory to the location of your ARM template and parameter files. Then complete the following commands to connect to Azure and create a Resource Group to deploy the resources to:\n# Import the Azure Az PowerShell Module Import-Module -Name Az # Connect to Azure and authenticate Connect-AzAccount # Create the Resource Group New-AzResourceGroup -Name \u0026#34;rg-eu-vm\u0026#34; -Location \u0026#34;westeurope\u0026#34; Once the Resource Group has been created it\u0026rsquo;s time to deploy the resources using the New-AzResourceGroupDeployment cmdlet.","keywords":["Azure","ARM Templates","IaC","PowerShell"],"articleBody":"In the third and final post of this series I’ll quickly cover the process to deploy the ARM template with PowerShell\nDeploy Open PowerShell and change directory to the location of your ARM template and parameter files. Then complete the following commands to connect to Azure and create a Resource Group to deploy the resources to:\n# Import the Azure Az PowerShell Module Import-Module -Name Az # Connect to Azure and authenticate Connect-AzAccount # Create the Resource Group New-AzResourceGroup -Name \"rg-eu-vm\" -Location \"westeurope\" Once the Resource Group has been created it’s time to deploy the resources using the New-AzResourceGroupDeployment cmdlet. Here I have specified the name of the deployment as “NewVM”, the newly created resource group, and the json files.\n# Deploy the resources using the template and parameters file New-AzResourceGroupDeployment -Name \"NewVM\" -ResourceGroupName \"rg-eu-vm\" -TemplateParameterFile .\\NewVM.parameters.json -TemplateFile .\\NewVM.json You can see the successful deployment of the resources in the image below. Notice the Outputs which I specified in the ARM template.\nThe image at the top of this post is how the resources looked within the Resource Group after deployment. You can also list the resource using the following cmdlet:\nGet-AzResource -ResourceGroupName \"rg-eu-vm\" | ft Clean-up Resources To clean-up the resources after you are done with them, and to avoid any unnecessary spend, delete the Resource Group (and it’s contents) as follows:\nRemove-AzResourceGroup -Name \"rg-eu-vm\" ","wordCount":"226","inLanguage":"en","image":"https://markkerry.github.io/images/cover.png","datePublished":"2021-07-04T12:55:22+01:00","dateModified":"2021-07-04T12:55:22+01:00","author":{"@type":"Person","name":"Mark kerry"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://markkerry.github.io/posts/azure-arm-templates-part-3-deployment/"},"publisher":{"@type":"Organization","name":"markkerry.github.io","logo":{"@type":"ImageObject","url":"https://markkerry.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://markkerry.github.io/ accesskey=h title="markkerry.github.io (Alt + H)">markkerry.github.io</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://markkerry.github.io/about/ title=About>
<span>About</span>
</a>
</li>
<li>
<a href=https://markkerry.github.io/archive title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://markkerry.github.io/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://markkerry.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://markkerry.github.io/posts/>Posts</a></div>
<h1 class=post-title>
Azure ARM Templates - Part 3: Deployment
</h1>
<div class=post-meta>July 4, 2021&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Mark kerry
</div>
</header>
<figure class=entry-cover>
<img loading=lazy srcset="https://markkerry.github.io/posts/azure-arm-templates-part-3-deployment/images/cover_hua0a4c3bbf7eb11702eff01adcd365f7c_18751_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/azure-arm-templates-part-3-deployment/images/cover_hua0a4c3bbf7eb11702eff01adcd365f7c_18751_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/azure-arm-templates-part-3-deployment/images/cover.png 520w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/azure-arm-templates-part-3-deployment/images/cover.png alt width=520 height=271>
<p>Part 3 in developing, testing and deploying Azure ARM templates</p>
</figure><div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<div class=details>Table of Contents</div>
</summary>
<div class=inner><ul>
<li>
<a href=#deploy aria-label=Deploy>Deploy</a></li>
<li>
<a href=#clean-up-resources aria-label="Clean-up Resources">Clean-up Resources</a>
</li>
</ul>
</div>
</details>
</div>
<div class=post-content><p>In the third and final post of this series I&rsquo;ll quickly cover the process to deploy the ARM template with PowerShell</p>
<h2 id=deploy>Deploy<a hidden class=anchor aria-hidden=true href=#deploy>#</a></h2>
<p>Open PowerShell and change directory to the location of your ARM template and parameter files. Then complete the following commands to connect to Azure and create a Resource Group to deploy the resources to:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=color:#75715e># Import the Azure Az PowerShell Module</span>
Import-Module -Name Az

<span style=color:#75715e># Connect to Azure and authenticate</span>
Connect-AzAccount

<span style=color:#75715e># Create the Resource Group</span>
New-AzResourceGroup -Name <span style=color:#e6db74>&#34;rg-eu-vm&#34;</span> -Location <span style=color:#e6db74>&#34;westeurope&#34;</span>
</code></pre></div><p><img loading=lazy src=images/newRG.png alt=newRG>
</p>
<p>Once the Resource Group has been created it&rsquo;s time to deploy the resources using the <code>New-AzResourceGroupDeployment</code> cmdlet. Here I have specified the name of the deployment as &ldquo;NewVM&rdquo;, the newly created resource group, and the json files.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=color:#75715e># Deploy the resources using the template and parameters file</span>
New-AzResourceGroupDeployment -Name <span style=color:#e6db74>&#34;NewVM&#34;</span> -ResourceGroupName <span style=color:#e6db74>&#34;rg-eu-vm&#34;</span> -TemplateParameterFile .\NewVM.parameters.json -TemplateFile .\NewVM.json
</code></pre></div><p>You can see the successful deployment of the resources in the image below. Notice the Outputs which I specified in the ARM template.</p>
<p><img loading=lazy src=images/output.png alt=output>
</p>
<p>The image at the top of this post is how the resources looked within the Resource Group after deployment. You can also list the resource using the following cmdlet:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell>Get-AzResource -ResourceGroupName <span style=color:#e6db74>&#34;rg-eu-vm&#34;</span> | ft
</code></pre></div><h2 id=clean-up-resources>Clean-up Resources<a hidden class=anchor aria-hidden=true href=#clean-up-resources>#</a></h2>
<p>To clean-up the resources after you are done with them, and to avoid any unnecessary spend, delete the Resource Group (and it&rsquo;s contents) as follows:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell>Remove-AzResourceGroup -Name <span style=color:#e6db74>&#34;rg-eu-vm&#34;</span>
</code></pre></div>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://markkerry.github.io/tags/azure/>Azure</a></li>
<li><a href=https://markkerry.github.io/tags/arm-templates/>ARM Templates</a></li>
<li><a href=https://markkerry.github.io/tags/iac/>IaC</a></li>
<li><a href=https://markkerry.github.io/tags/powershell/>PowerShell</a></li>
</ul>
<nav class=paginav>
<a class=prev href=https://markkerry.github.io/posts/azure-arm-template-custom-deployment/>
<span class=title>« Prev Page</span>
<br>
<span>Azure Portal's ARM Template Editor - Custom Deployment</span>
</a>
<a class=next href=https://markkerry.github.io/posts/azure-arm-templates-part-2-testing/>
<span class=title>Next Page »</span>
<br>
<span>Azure ARM Templates - Part 2: Testing</span>
</a>
</nav>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://markkerry.github.io/>markkerry.github.io</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>