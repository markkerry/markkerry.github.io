<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox | markkerry.github.io</title><meta name=keywords content="Linux,Ubuntu,VirtualBox,Ansible"><meta name=description content="This is part one in a three part Ansible series, which will demonstrate how you can get started learning Ansible. The complete list of posts in this series are:
 Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox (This post) Ansible Part 2: Playbooks Ansible Part 3: Variables, Vault and Roles  All code in these posts can be found on GitHub - ubuntu-config/ansible
Getting Started I used the adminbox VM connected to the KubeNatNetwork (10."><meta name=author content="Mark kerry"><link rel=canonical href=https://markkerry.github.io/posts/2022/04/ansible-part-1/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b9ff4cc257e914dab489bd18086151800e18f91456a5174bf28489210227a659.css integrity="sha256-uf9MwlfpFNq0ib0YCGFRgA4Y+RRWpRdL8oSJIQInplk=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://markkerry.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://markkerry.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://markkerry.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://markkerry.github.io/apple-touch-icon.png><link rel=mask-icon href=https://markkerry.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.99.1"><script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config",'')</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZDLE8M8RG"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XZDLE8M8RG",{anonymize_ip:!1})}</script><meta property="og:title" content="Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox"><meta property="og:description" content="This is part one in a three part Ansible series, which will demonstrate how you can get started learning Ansible. The complete list of posts in this series are:
 Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox (This post) Ansible Part 2: Playbooks Ansible Part 3: Variables, Vault and Roles  All code in these posts can be found on GitHub - ubuntu-config/ansible
Getting Started I used the adminbox VM connected to the KubeNatNetwork (10."><meta property="og:type" content="article"><meta property="og:url" content="https://markkerry.github.io/posts/2022/04/ansible-part-1/"><meta property="og:image" content="https://markkerry.github.io/images/cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-03T10:32:05+00:00"><meta property="article:modified_time" content="2022-04-03T10:32:05+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://markkerry.github.io/images/cover.png"><meta name=twitter:title content="Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox"><meta name=twitter:description content="This is part one in a three part Ansible series, which will demonstrate how you can get started learning Ansible. The complete list of posts in this series are:
 Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox (This post) Ansible Part 2: Playbooks Ansible Part 3: Variables, Vault and Roles  All code in these posts can be found on GitHub - ubuntu-config/ansible
Getting Started I used the adminbox VM connected to the KubeNatNetwork (10."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://markkerry.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox","item":"https://markkerry.github.io/posts/2022/04/ansible-part-1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox","name":"Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox","description":"This is part one in a three part Ansible series, which will demonstrate how you can get started learning Ansible. The complete list of posts in this series are:\n Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox (This post) Ansible Part 2: Playbooks Ansible Part 3: Variables, Vault and Roles  All code in these posts can be found on GitHub - ubuntu-config/ansible\nGetting Started I used the adminbox VM connected to the KubeNatNetwork (10.","keywords":["Linux","Ubuntu","VirtualBox","Ansible"],"articleBody":"This is part one in a three part Ansible series, which will demonstrate how you can get started learning Ansible. The complete list of posts in this series are:\n Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox (This post) Ansible Part 2: Playbooks Ansible Part 3: Variables, Vault and Roles  All code in these posts can be found on GitHub - ubuntu-config/ansible\nGetting Started I used the adminbox VM connected to the KubeNatNetwork (10.0.2.0/24) from a previous post. I will be using the same server in this post as the Ansible Control server, where the configuration and commands will be coming from.\n   server ip addr comment     adminbox 10.0.2.5 Ansible Control server    Following the same process I have created a further 3 VMs also connected to the KubeNatNetwork. Note: these only have one network adapter.\n network address: 10.0.2.0/24 default gateway: 10.0.2.2     server ip addr ram vcpu comment     lb1 10.0.2.20 2GB 2 Load Balancer configured by Ansible   web1 10.0.2.21 2GB 2 Web Server 1 configured by Ansible   web2 10.0.2.22 2GB 2 Web Server 2 configured by Ansible    Install Ansible Ansible will only be installed on my adminbox server and not on the load balancer or web servers. I installed Ansible on Ubuntu as follows:\nsudo apt update sudo apt install software-properties-common sudo add-apt-repository --yes --update ppa:ansible/ansible sudo apt install ansible Once complete check which version is installed and notice that the config file is pointing to /etc/ansible/ansible.csg. This will be changed to another .cfg file in the next section\nansible --version Then I created a directory to keep the Ansible inventory and changed to that directory. I will be working from this directory for the rest of the guide.\nmkdir ~/ansible \u0026\u0026 cd ~/ansible Create the inventory and new cfg file.\ntouch ansible.cfg touch hosts-dev Create a Local ansible.cfg File Edit the ansible.cfg as follows:\nvim ansible.cfg Populate it with the below which specifies the new inventory file:\n# ansible.cfg [defaults] inventory = ./hosts-dev Create an Ansible Inventory File An inventory file contains the server information, which lists the host names and groups. The file can be ini for yaml formats, and the hosts can specify non-standard ssh ports and aliases.\nI edited the new inventory file as follows:\nvim hosts-dev Then populated it with the 3 three server’s IP addresses:\n# hosts-dev [webservers] web1 ansible_host=10.0.2.21 web2 ansible_host=10.0.2.22 [loadbalancers] lb1 ansible_host=10.0.2.20 [local] control ansible_connection=local Note that web1 and web2 are aliases for their IP addresses. They are also grouped so you can run ansible tasks and playbooks against single or groups of machines.\nI can run this to return all the servers listed in the inventory:\nansible --list-hosts all Or only the web servers\nansible --list-hosts webservers This shows the new ~/ansible/ansible.cfg file is being used and reading from the ~/ansible/hosts-dev inventory file.\nAnsible Tasks Ansible tasks allow you to run one-off commands against the inventory in a single line command. The commands are in ansible modules which will be sepcified as part of the command\ne.g. ansible module moduleName inventory\nBefore I can run any remote tasks I first have to edit the ~/ansible/ansible.cfg file with user and ssh information. The ssh .pem file is the same one I created in part one.\nvim ansible.cfg Edit as required:\n# ansible.cfg [defaults] inventory = ./hosts-dev remote_user = mark private_key_file = ~/.ssh/id_rsa.pem host_key_checking = False Now we can see if the adminbox can successfully run an Ansible task on each of the servers in the inventory. Let’s start by doing a simple ping:\nansible -m ping all Each server returned it’s ping with a pong.\nAnd finally, I can run a shell command on each each server. I specified the uname command:\nansible -m shell -a \"uname\" all Each server returned Linux. Also notice rc=0. This means return code equals 0, success.\nThat’s Ansible installed and connectivity to each machine was successful. In the next post I will configure the load balancer and web servers using Ansible Playbooks.\n","wordCount":"657","inLanguage":"en","image":"https://markkerry.github.io/images/cover.png","datePublished":"2022-04-03T10:32:05Z","dateModified":"2022-04-03T10:32:05Z","author":{"@type":"Person","name":"Mark kerry"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://markkerry.github.io/posts/2022/04/ansible-part-1/"},"publisher":{"@type":"Organization","name":"markkerry.github.io","logo":{"@type":"ImageObject","url":"https://markkerry.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://markkerry.github.io/ accesskey=h title="markkerry.github.io (Alt + H)">markkerry.github.io</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://markkerry.github.io/about/ title=About><span>About</span></a></li><li><a href=https://markkerry.github.io/archive title=Archive><span>Archive</span></a></li><li><a href=https://markkerry.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://markkerry.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://markkerry.github.io/posts/>Posts</a></div><h1 class=post-title>Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox</h1><div class=post-meta>April 3, 2022&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Mark kerry</div></header><figure class=entry-cover><img loading=lazy srcset="https://markkerry.github.io/posts/2022/04/ansible-part-1/images/cover_hu51bae26b1b7e2b7a0f126d16dec08f1b_76805_360x0_resize_box_3.png 360w ,https://markkerry.github.io/posts/2022/04/ansible-part-1/images/cover_hu51bae26b1b7e2b7a0f126d16dec08f1b_76805_480x0_resize_box_3.png 480w ,https://markkerry.github.io/posts/2022/04/ansible-part-1/images/cover_hu51bae26b1b7e2b7a0f126d16dec08f1b_76805_720x0_resize_box_3.png 720w ,https://markkerry.github.io/posts/2022/04/ansible-part-1/images/cover.png 734w" sizes="(min-width: 768px) 720px, 100vw" src=https://markkerry.github.io/posts/2022/04/ansible-part-1/images/cover.png alt width=734 height=346><p>Install and configure Ansible on Ubuntu and VirtualBox</p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#getting-started aria-label="Getting Started">Getting Started</a></li><li><a href=#install-ansible aria-label="Install Ansible">Install Ansible</a></li><li><a href=#create-a-local-ansiblecfg-file aria-label="Create a Local ansible.cfg File">Create a Local ansible.cfg File</a></li><li><a href=#create-an-ansible-inventory-file aria-label="Create an Ansible Inventory File">Create an Ansible Inventory File</a></li><li><a href=#ansible-tasks aria-label="Ansible Tasks">Ansible Tasks</a></li></ul></div></details></div><div class=post-content><p>This is part one in a three part Ansible series, which will demonstrate how you can get started learning Ansible. The complete list of posts in this series are:</p><ol><li>Ansible Part 1: Setup and Configure on Ubuntu and VirtualBox (This post)</li><li><a href=https://markkerry.github.io/posts/2022/04/ansible-part-2/>Ansible Part 2: Playbooks</a></li><li><a href=https://markkerry.github.io/posts/2022/04/ansible-part-3/>Ansible Part 3: Variables, Vault and Roles</a></li></ol><p>All code in these posts can be found on <a href=https://github.com/markkerry/ubuntu-config/tree/main/ansible>GitHub - ubuntu-config/ansible</a></p><h2 id=getting-started>Getting Started<a hidden class=anchor aria-hidden=true href=#getting-started>#</a></h2><p>I used the adminbox VM connected to the KubeNatNetwork (10.0.2.0/24) from a <a href=https://markkerry.github.io/posts/2022/02/ubuntu-server-lab/>previous post</a>. I will be using the same server in this post as the Ansible Control server, where the configuration and commands will be coming from.</p><table><thead><tr><th>server</th><th>ip addr</th><th>comment</th></tr></thead><tbody><tr><td>adminbox</td><td>10.0.2.5</td><td>Ansible Control server</td></tr></tbody></table><p>Following the same process I have created a further 3 VMs also connected to the KubeNatNetwork. Note: these only have one network adapter.</p><ul><li>network address: 10.0.2.0/24</li><li>default gateway: 10.0.2.2</li></ul><table><thead><tr><th>server</th><th>ip addr</th><th>ram</th><th>vcpu</th><th>comment</th></tr></thead><tbody><tr><td>lb1</td><td>10.0.2.20</td><td>2GB</td><td>2</td><td>Load Balancer configured by Ansible</td></tr><tr><td>web1</td><td>10.0.2.21</td><td>2GB</td><td>2</td><td>Web Server 1 configured by Ansible</td></tr><tr><td>web2</td><td>10.0.2.22</td><td>2GB</td><td>2</td><td>Web Server 2 configured by Ansible</td></tr></tbody></table><p><img loading=lazy src=images/virtualBox.png alt=virtualBox></p><h2 id=install-ansible>Install Ansible<a hidden class=anchor aria-hidden=true href=#install-ansible>#</a></h2><p>Ansible will only be installed on my adminbox server and not on the load balancer or web servers. I installed Ansible on Ubuntu as follows:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>sudo apt update
sudo apt install software-properties-common
sudo add-apt-repository --yes --update ppa:ansible/ansible
sudo apt install ansible
</code></pre><p>Once complete check which version is installed and notice that the <code>config file</code> is pointing to <code>/etc/ansible/ansible.csg</code>. This will be changed to another <code>.cfg</code> file in the next section</p><pre tabindex=0><code class=language-terminal data-lang=terminal>ansible --version
</code></pre><p><img loading=lazy src=images/ansibleVersion.png alt=ansibleVersion></p><p>Then I created a directory to keep the Ansible inventory and changed to that directory. I will be working from this directory for the rest of the guide.</p><pre tabindex=0><code class=language-terminal data-lang=terminal>mkdir ~/ansible &amp;&amp; cd ~/ansible
</code></pre><p>Create the inventory and new cfg file.</p><pre tabindex=0><code class=language-termnial data-lang=termnial>touch ansible.cfg
touch hosts-dev
</code></pre><h2 id=create-a-local-ansiblecfg-file>Create a Local ansible.cfg File<a hidden class=anchor aria-hidden=true href=#create-a-local-ansiblecfg-file>#</a></h2><p>Edit the ansible.cfg as follows:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>vim ansible.cfg
</code></pre><p>Populate it with the below which specifies the new inventory file:</p><pre tabindex=0><code class=language-terminal data-lang=terminal># ansible.cfg

[defaults]
inventory = ./hosts-dev
</code></pre><p><img loading=lazy src=images/listHosts.png alt=listHosts></p><h2 id=create-an-ansible-inventory-file>Create an Ansible Inventory File<a hidden class=anchor aria-hidden=true href=#create-an-ansible-inventory-file>#</a></h2><p>An inventory file contains the server information, which lists the host names and groups. The file can be <code>ini</code> for <code>yaml</code> formats, and the hosts can specify non-standard ssh ports and aliases.</p><p>I edited the new inventory file as follows:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>vim hosts-dev
</code></pre><p>Then populated it with the 3 three server&rsquo;s IP addresses:</p><pre tabindex=0><code class=language-terminal data-lang=terminal># hosts-dev

[webservers]
web1 ansible_host=10.0.2.21
web2 ansible_host=10.0.2.22

[loadbalancers]
lb1 ansible_host=10.0.2.20

[local]
control ansible_connection=local
</code></pre><p>Note that web1 and web2 are aliases for their IP addresses. They are also grouped so you can run ansible tasks and playbooks against single or groups of machines.</p><p>I can run this to return all the servers listed in the inventory:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>ansible --list-hosts all
</code></pre><p>Or only the web servers</p><pre tabindex=0><code class=language-terminal data-lang=terminal>ansible --list-hosts webservers
</code></pre><p><img loading=lazy src=images/hostsDev.png alt=hostsDev></p><p>This shows the new <code>~/ansible/ansible.cfg</code> file is being used and reading from the <code>~/ansible/hosts-dev</code> inventory file.</p><h2 id=ansible-tasks>Ansible Tasks<a hidden class=anchor aria-hidden=true href=#ansible-tasks>#</a></h2><p>Ansible tasks allow you to run one-off commands against the inventory in a single line command. The commands are in ansible modules which will be sepcified as part of the command</p><p>e.g. ansible module moduleName inventory</p><p>Before I can run any remote tasks I first have to edit the <code>~/ansible/ansible.cfg</code> file with user and ssh information. The ssh <code>.pem</code> file is the same one I created in <a href=https://markkerry.github.io/posts/2022/02/ubuntu-server-lab/>part one</a>.</p><pre tabindex=0><code class=language-terminal data-lang=terminal>vim ansible.cfg
</code></pre><p>Edit as required:</p><pre tabindex=0><code class=language-terminal data-lang=terminal># ansible.cfg

[defaults]
inventory = ./hosts-dev
remote_user = mark
private_key_file = ~/.ssh/id_rsa.pem
host_key_checking = False
</code></pre><p><img loading=lazy src=images/cfgPemFile.png alt=cfgPemFile></p><p>Now we can see if the adminbox can successfully run an Ansible task on each of the servers in the inventory. Let&rsquo;s start by doing a simple ping:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ansible -m ping all
</span></span></code></pre></div><p><img loading=lazy src=images/pingPong.png alt=pingPong></p><p>Each server returned it&rsquo;s <code>ping</code> with a <code>pong</code>.</p><p>And finally, I can run a shell command on each each server. I specified the <code>uname</code> command:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>ansible -m shell -a &#34;uname&#34; all
</code></pre><p><img loading=lazy src=images/uname.png alt=uname></p><p>Each server returned <code>Linux</code>. Also notice <code>rc=0</code>. This means return code equals 0, success.</p><p>That&rsquo;s Ansible installed and connectivity to each machine was successful. In the next post I will configure the load balancer and web servers using Ansible Playbooks.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://markkerry.github.io/tags/linux/>Linux</a></li><li><a href=https://markkerry.github.io/tags/ubuntu/>Ubuntu</a></li><li><a href=https://markkerry.github.io/tags/virtualbox/>VirtualBox</a></li><li><a href=https://markkerry.github.io/tags/ansible/>Ansible</a></li></ul><nav class=paginav><a class=prev href=https://markkerry.github.io/posts/2022/04/windows-cis-with-ansible/><span class=title>« Prev Page</span><br><span>Configure Windows Server 2022 with Ansible</span></a>
<a class=next href=https://markkerry.github.io/posts/2022/04/ansible-part-2/><span class=title>Next Page »</span><br><span>Ansible Part 2: Playbooks</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://markkerry.github.io/>markkerry.github.io</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>